//*****************************************************************************
//*****************************************************************************
//
// SISTEMA DE SKILLS por UsMarine (vinicius.arroyo at gmail.com)
//
//*****************************************************************************
//*****************************************************************************
//TODO:

//TAGS usadas:

//*****************************************************************************
//*****************************************************************************
// DEFNAMEs
//*****************************************************************************
//*****************************************************************************

[DEFNAME skills_custom]
//increase 0.02% every action (minimum)
bonusIncrease		= 20

SKILL_ALCHEMY		=0
SKILL_ANATOMY		=1
SKILL_ANIMAL_LORE	=2
SKILL_APPRAISE		=3
SKILL_ARMSLORE		=4
SKILL_Parrying		=5
SKILL_Begging		=6
SKILL_Blacksmith	=7
Skill_Bowcraft		=8
SKILL_PEACEMAKING	=9
Skill_Camping		=10
Skill_Carpentry		=11
SKILL_CARTOGRAPHY	=12
Skill_Cooking		=13
Skill_DetectHidden	=14
Skill_Enticement	=15
Skill_EvalInt		=16
Skill_Healing		=17
Skill_Fishing		=18
Skill_Forensics		=19
Skill_Herding		=20
Skill_Hiding		=21
SKILL_PROVOCATION	=22
Skill_Inscription	=23
Skill_LockPick		=24
Skill_Magery		=25
Skill_MagicResist	=26
Skill_Tactics		=27
Skill_Snooping		=28
Skill_Musicianship	=29
SKILL_POISONING		=30
Skill_Archery		=31
SKILL_SPIRITSPEAK	=32
Skill_Stealing		=33
Skill_Tailoring		=34
Skill_Taming		=35
skill_tasteid		=36
Skill_Tinkering		=37
Skill_Tracking		=38
Skill_Vet		=39
Skill_Swordsmanship	=40
Skill_Macefighting	=41
Skill_Fencing		=42
Skill_Wrestling		=43
SKILL_LUMBERJACK	=44
SKILL_MINING		=45
SKILL_MEDITATION	=46
SKILL_STEALTH		=47
SKILL_REMOVE_TRAP	=48
SKILL_Necromancy	=49
SKILL_Focus		=50
SKILL_CHIVALRY		=51
SKILL_BUSHIDO		=52
SKILL_NINJITSU		=53
SKILL_SPELLWEAVING	=54

//*****************************************************************************
//*****************************************************************************
// FUNCTIONs
//*****************************************************************************
//*****************************************************************************

//*****************************************************************************
// skill_gain(uid,skill) compute skill gain for UID
//*****************************************************************************
[FUNCTION skill_gain]
OBJ=<argv[0]>

LOCAL.inc=<eval {0 <OBJ.TAG.skill_maxIncrease> }>
LOCAL.inc=<DEF.bonusIncrease>+<LOCAL.inc>+<OBJ.TAG0.<argv[1]>>
if ( <LOCAL.inc> > 100 )
  LOCAL.inc=<LOCAL.inc>-100
  TRYP 0 OBJ.<DEF.<argv[1]>> <EVAL <OBJ.<DEF.<argv[1]>>> + 0.1>
endif
TRYP 0 OBJ.TAG0.<argv[1]>=<LOCAL.inc>


[FUNCTION skill_init]
SRC.TAG.skill_maxIncrease=<eval ((<skillclass.skillsum>-<skilltotal>)*100)/<skillclass.skillsum>>

[EOF]